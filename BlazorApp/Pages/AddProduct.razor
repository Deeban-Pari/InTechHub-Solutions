@page "/products/add"
@using BlazorApp.Models
@using BlazorApp.Services
@inject ProductService ProductService
@inject NavigationManager NavigationManager

<h3>Add Product</h3>

<div class="form-group">
    <label for="name">Name</label>
    <input id="name" class="form-control" @bind="product.Name" />
</div>
<div class="form-group">
    <label for="price">Price</label>
    <input id="price" class="form-control" type="number" @bind="product.Price" />
</div>

<button class="btn btn-primary" @onclick="SaveProduct">Save</button>
<button class="btn btn-secondary" @onclick="Cancel">Cancel</button>

@code {
    private Product product = new Product();

    private async Task SaveProduct()
    {
        await ProductService.CreateProductAsync(product);
        NavigationManager.NavigateTo("/products");
    }

    private void Cancel()
    {
        NavigationManager.NavigateTo("/products");
    }
}
